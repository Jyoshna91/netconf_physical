from pyats.topology import loader
testbed = loader.load('/users/xxx/xxx/asr22.yaml')
device = testbed.devices['asr22']
device.connect(alias='nc', via='netconf')
device.nc.connected
True
netconf_request = """
    <rpc message-id="101"
     xmlns="urn:ietf:params:xml:ns:netconf:base:1.0">
    <get>
    <filter>
    <native xmlns="http://cisco.com/ns/yang/ned/ios">
    <version>
    </version>
    </native>
    </filter>
    </get>
    </rpc>
    """
reply = device.nc.request(netconf_request)
print(reply)
